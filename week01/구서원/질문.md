### **1. 객체 복사는 무엇이고, 얕은 복사와 깊은 복사의 차이점은 무엇인가요?**

**객체 복사**는 기존 객체의 데이터를 새로운 객체에 옮기는 과정이다. 이는 **JVM 메모리**의 **스택**과 **힙** 영역의 동작 방식과 관련이 있다.

- **기본 자료형**: 스택에 값 자체가 저장된다.
- **참조 자료형**: 힙에 객체가 저장되고, 스택에는 해당 객체를 가리키는 주소(참조 값)가 저장된다.



#### **얕은 복사 (Shallow Copy)**

**얕은 복사**는 원본 객체의 **주소 값만 복사**하여 새로운 객체를 만든다.

- **원리**: JVM의 스택에 저장된 원본 객체의 주소 값을 복사해 새로운 변수에 할당한다. 이 두 변수는 힙 메모리에 있는 **동일한 객체**를 가리킨다.
- **결과**: 복사본의 참조 값을 변경하면 원본 객체도 함께 변경된다.
- **예시**: 2차원 배열에서 `for` 문을 한 번만 사용해 i번째 행의 주소만 복사하는 것은 얕은 복사이다.

<img width="1280" height="767" alt="image" src="https://github.com/user-attachments/assets/4292b8f8-c30c-4111-8b88-32cb969f053e" />




#### **깊은 복사 (Deep Copy)**

**깊은 복사**는 원본 객체와 그 안에 포함된 모든 참조형 데이터 값까지 **새로운 힙 메모리 공간**에 복사한다.

- **원리**: JVM의 힙 메모리에 있는 객체와 그 내부 참조 객체까지 모두 새로운 공간에 할당한다.
- **결과**: 원본과 복사본이 완전히 독립된 객체로, 한쪽을 변경해도 다른 쪽에 영향을 주지 않는다.
- **핵심**: **재귀적**으로 모든 내부 참조 객체를 새롭게 할당해야 한다. 2차원 배열에서 `j`까지(재귀적으로) 들어가 모든 값을 복사해야 깊은 복사가 된다.

<img width="1280" height="755" alt="image" src="https://github.com/user-attachments/assets/cf201134-bbb8-4d83-a83b-222c889e1517" />



***

### **2. String은 참조 자료형인데 기본자료형처럼 값이 복사되는 이유는?**

**String**은 참조 자료형이지만, 마치 기본 자료형처럼 값이 복사되는 것처럼 보이는 특별한 특성을 가진다. 이는 **불변성**과 **상수 풀** 때문이다.

- **불변성(Immutability)**: String 객체는 한 번 생성되면 변경할 수 없다. 문자열에 변화를 주는 연산은 기존 객체를 수정하는 것이 아니라, 힙 영역에 **새로운 String 객체를 생성**한다.
- **상수 풀(String Constant Pool)**: 힙 메모리 내부에 있는 특별한 영역으로, 문자열 리터럴을 저장하는 공간이다.
    - **리터럴 사용**: `"Hello"`처럼 문자열을 생성하면, 상수 풀에 이미 동일한 문자열이 있는지 확인한다. 있으면 새로운 객체를 만들지 않고 기존 객체의 주소를 반환하여 메모리를 절약한다.
    - **`new` 키워드 사용**: `new String("Hello")`처럼 생성하면, 상수 풀과 무관하게 **무조건 힙에 새로운 객체**를 만든다. 따라서 두 문자열은 서로 다른 주소를 가지게 된다.
